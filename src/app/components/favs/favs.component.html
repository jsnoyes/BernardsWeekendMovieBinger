<p-messages severity="info">
    <ng-template pTemplate [style]="{'width': '100%'}">
        <div>Rate the following movies. Do not rate movies that you have not seen. </div>        
        <p-button routerLink="/squad" type="button" icon="pi pi-arrow-right" style="margin-left: auto" iconPos="right" label="Next"></p-button>
    </ng-template>
</p-messages>

<div class="grid align-content-center justify-content-center" *ngIf="(dataService.$movies | async); let movies">
    <div class="col-12 md:col-6 xl:col-4 align-content-center justify-content-center" style="max-width: 575px; min-width: 340px !important;" *ngFor="let movie of movies">
        <p-card>
            <ng-template pTemplate="header">
                <div class="flex align-content-center justify-content-center">
                    <h3>
                        {{movie.name}}
                    </h3>
                </div>
                <div class="flex align-content-center justify-content-center">
                    <span style="font-weight: bold;">
                        ({{movie.year}})
                    </span>
                </div>
            </ng-template>

            <ng-template pTemplate="content">
                <div class="flex align-content-center justify-content-center">
                    <img style="height: 400px; border: 1px solid lightgray;" [src]="movie.image" alt="{{ movie.name }}">
                </div>
            </ng-template>      
            
            <ng-template pTemplate="footer">
                <div class="flex align-content-center justify-content-center">
                    <p-rating [stars]="10" [ngModel]="movie.preference" (ngModelChange)="updateMovie(movie.name, $event)"></p-rating>
                </div>
            </ng-template>      
        </p-card>
    </div>
</div>